<!DOCTYPE html>
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

		<title>签到</title>
		<style>
			body,
			html,
			#allmap,.odiv {
				width: 100%;
				height: 100%;
				overflow: hidden;
				margin: 0;
				font-family: "微软雅黑";
			}
		</style>
		<div class="odiv">
			<div>
				<label for="">经度</label>
				<input type="text" id="longitude" value="116.371994"/>
				<label for="">纬度</label>
				<input type="text" id="latitude" value="39.9668" />
				<button onclick="queryPostion()">查询</button>
			</div>
			<div id="allmap" style="display: none;"></div>
		</div>

	</head>

	<body>
		<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=ZjODh2TtsEiZiCMt2lvuEr2rQVHEc4Wz"></script>
		<script>
			//创建地图
			var map = new BMap.Map("allmap");

			
			var dxnWeChtPoint = new BMap.Point(116.371994, 39.9668);

			 var circle = new BMap.Circle(dxnWeChtPoint, 150, { fillColor: "blue", strokeWeight: 2, fillOpacity: 0.1, strokeOpacity: 0.3 });

//			var point2s = [
//				new BMap.Point(116.371994, 39.9668),
//				new BMap.Point(116.37196, 39.9668),
//				new BMap.Point(116.37193, 39.966805),
//				new BMap.Point(116.371582013125, 39.967063903808594)
//			];
			//创建标注点并添加到地图中
//			function addMarker(points) {
//				//循环建立标注点
//				for(var i = 0, pointsLen = points.length; i < pointsLen; i++) {
//					var marker = new BMap.Marker(points[i]); //将点转化成标注点
//					map.addOverlay(marker); //将标注点添加到地图上
//					//添加监听事件
//					(function() {
//						var thePoint = points[i];
//						marker.addEventListener("click",
//							function() {
//								showInfo(this, thePoint);
//							});
//					})();
//				}
//			}
//
//			function showInfo(thisMarker, point) {
//
//				//判断点是否在
//				if(BMapLib.GeoUtils.isPointInCircle(point, circle)) {
//					var infoWindow = new BMap.InfoWindow("在圆形区域内");
//					thisMarker.openInfoWindow(infoWindow); //图片加载完后重绘infoWindow
//				} else {
//					var infoWindow = new BMap.InfoWindow("不在圆形区域内");
//					thisMarker.openInfoWindow(infoWindow); //图片加载完后重绘infoWindow
//				}
//			}

			function initialize() {


//				var point = new BMap.Point(112.595384, 26.904631); // 创建点坐标  
//				map.centerAndZoom(dxnWeChtPoint, 15); // 初始化地图,设置中心点坐标和地图级别。  
//				addMarker(point2s);
			    map.addOverlay(circle);
			}

			initialize();
			
			
			function queryPostion(){
				//经度
				var longitude=document.getElementById("longitude").value;
				//纬度
				var latitude=document.getElementById("latitude").value;
				
				var point=new BMap.Point(longitude, latitude);
				var bounds = circle.getBounds();

		        if(bounds.containsPoint(point))
		       	{	
		       		alert("在范围内！");
		       	}
		       	else{
		       		alert("不在范围内！");
		       	}
		       
				
				
			}
			
			
		</script>
	</body>

</html>